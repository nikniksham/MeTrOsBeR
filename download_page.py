import sys
from PyQt5.QtCore import QUrl
from PyQt5.QtWebEngineWidgets import QWebEngineView
from PyQt5.QtWidgets import QApplication
from par import get_count_pages, upd_db, all_links, add_links

mc = 1
cc = 1
fn = True
# li = [""]
li = [[1, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/krepkiy-alkogol/viski'], [2, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/krepkiy-alkogol/brendi-armanyak'], [3, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/krepkiy-alkogol/konyak-armanyak-brendi'], [4, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/krepkiy-alkogol/rom'], [5, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/krepkiy-alkogol/tekila'], [6, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/krepkiy-alkogol/dzhin'], [7, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/krepkiy-alkogol/likery'], [8, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/krepkiy-alkogol/vodka'], [9, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/shampanskoe-igristye-vina/beloe'], [10, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/shampanskoe-igristye-vina/krasnoe'], [11, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/shampanskoe-igristye-vina/rozovoe'], [12, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/shampanskoe-igristye-vina/fruktovoe'], [13, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/shampanskoe-igristye-vina/bezalkogolnoe'], [14, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/vino/krasnoe-vino'], [15, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/vino/beloe-vino'], [16, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/vino/rozovoe-vino'], [17, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/vino/vermuty-i-aperitivy'], [18, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/vino/kreplenoe'], [19, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/pivo-sidr/pivo-svetloe'], [20, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/pivo-sidr/pivo-temnoe'], [21, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/pivo-sidr/pivnoy-napitok'], [22, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/pivo-sidr/nizkoalkogolnoe-i-bezalkogolnoe-pivo'], [23, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/pivo-sidr/el'], [24, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/pivo-sidr/lager-pilzner'], [25, 'https://online.metro-cc.ru/category/alkogolnaya-produkciya/sidr'], [26, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/rastitelnoe-moloko'], [27, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/moloko'], [28, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/sgushchennoe-moloko'], [29, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/slivki'], [30, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/molochnye-napitki'], [31, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/smetana'], [32, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/kislomolochnye-prodkuty'], [33, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/tvorog'], [34, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/jogurty'], [35, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/syry'], [36, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/slivochnoe-maslo-i-margarin'], [37, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/yayca'], [38, 'https://online.metro-cc.ru/category/molochnye-prodkuty-syry-i-yayca/morozhenoe'], [39, 'https://online.metro-cc.ru/category/bakaleya/rastitelnoe-maslo'], [40, 'https://online.metro-cc.ru/category/bakaleya/makaronnye-izdeliya'], [41, 'https://online.metro-cc.ru/category/bakaleya/krupy-bobovye'], [42, 'https://online.metro-cc.ru/category/bakaleya/muka-vse-dlya-vypechki'], [43, 'https://online.metro-cc.ru/category/bakaleya/sahar-sol'], [44, 'https://online.metro-cc.ru/category/bakaleya/konservy/myasnye-konservy'], [45, 'https://online.metro-cc.ru/category/bakaleya/konservy/ovoshchnye-konservy'], [46, 'https://online.metro-cc.ru/category/bakaleya/konservy/rybnye-konservy'], [47, 'https://online.metro-cc.ru/category/bakaleya/konservy/fruktovye-yagodnye-konservy'], [48, 'https://online.metro-cc.ru/category/bakaleya/sousy-pripravy-specii'], [49, 'https://online.metro-cc.ru/category/bakaleya/suhie-zavtraki'], [50, 'https://online.metro-cc.ru/category/bakaleya/orekhi-suhofrukty-semechki'], [51, 'https://online.metro-cc.ru/category/bakaleya/med-dzhemy-varene'], [52, 'https://online.metro-cc.ru/category/bakaleya/chipsy-suhari-sneki'], [53, 'https://online.metro-cc.ru/category/bakaleya/produkty-bystrogo-prigotovleniya'], [54, 'https://online.metro-cc.ru/category/myasnye/myaso/govyadina'], [55, 'https://online.metro-cc.ru/category/myasnye/myaso/telyatina'], [56, 'https://online.metro-cc.ru/category/myasnye/myaso/svinina'], [57, 'https://online.metro-cc.ru/category/myasnye/myaso/baranina'], [58, 'https://online.metro-cc.ru/category/myasnye/myaso/krolik'], [59, 'https://online.metro-cc.ru/category/myasnye/myaso/drugoe-myaso'], [60, 'https://online.metro-cc.ru/category/myasnye/ptica/kurica'], [61, 'https://online.metro-cc.ru/category/myasnye/ptica/indeyka'], [62, 'https://online.metro-cc.ru/category/myasnye/ptica/utka'], [63, 'https://online.metro-cc.ru/category/myasnye/ptica/perepel'], [64, 'https://online.metro-cc.ru/category/myasnye/ptica/drugaya-ptica'], [65, 'https://online.metro-cc.ru/category/myasnye/subprodukty'], [66, 'https://online.metro-cc.ru/category/myasnye/farsh-kolbaski-kupati'], [67, 'https://online.metro-cc.ru/category/myasnye/shashlyk-barbekyu'], [68, 'https://online.metro-cc.ru/category/myasnaya-gastronomiya/varenaya-kolbasa-vetchina'], [69, 'https://online.metro-cc.ru/category/myasnaya-gastronomiya/kopchenye-kolbasy'], [70, 'https://online.metro-cc.ru/category/myasnaya-gastronomiya/sosiski-sardelki/sardelki'], [71, 'https://online.metro-cc.ru/category/myasnaya-gastronomiya/sosiski-sardelki/sosiski'], [72, 'https://online.metro-cc.ru/category/myasnaya-gastronomiya/sosiski-sardelki/shpikachki'], [73, 'https://online.metro-cc.ru/category/myasnaya-gastronomiya/delikatesy'], [74, 'https://online.metro-cc.ru/category/rybnye/ikra'], [75, 'https://online.metro-cc.ru/category/rybnye/ohlazhdennaya-ryba/dorado'], [76, 'https://online.metro-cc.ru/category/rybnye/ohlazhdennaya-ryba/karp'], [77, 'https://online.metro-cc.ru/category/rybnye/ohlazhdennaya-ryba/losos'], [78, 'https://online.metro-cc.ru/category/rybnye/ohlazhdennaya-ryba/osetr'], [79, 'https://online.metro-cc.ru/category/rybnye/ohlazhdennaya-ryba/treska'], [80, 'https://online.metro-cc.ru/category/rybnye/ohlazhdennaya-ryba/tunec'], [81, 'https://online.metro-cc.ru/category/rybnye/ohlazhdennaya-ryba/forel'], [82, 'https://online.metro-cc.ru/category/rybnye/ohlazhdennaya-ryba/shchuka'], [83, 'https://online.metro-cc.ru/category/rybnye/ohlazhdennaya-ryba/drugaya-ryba'], [84, 'https://online.metro-cc.ru/category/rybnye/moreprodukty'], [85, 'https://online.metro-cc.ru/category/rybnye/solenye'], [86, 'https://online.metro-cc.ru/category/rybnye/preservy-pashtety'], [87, 'https://online.metro-cc.ru/category/rybnye/krabovoe-myaso-palochki'], [88, 'https://online.metro-cc.ru/category/ovoshchi-i-frukty/ovoshchi'], [89, 'https://online.metro-cc.ru/category/ovoshchi-i-frukty/frukty'], [90, 'https://online.metro-cc.ru/category/ovoshchi-i-frukty/yagody'], [91, 'https://online.metro-cc.ru/category/ovoshchi-i-frukty/griby'], [92, 'https://online.metro-cc.ru/category/ovoshchi-i-frukty/zelen-salaty'], [93, 'https://online.metro-cc.ru/category/chaj-kofe-kakao/kofe-zernovoj'], [94, 'https://online.metro-cc.ru/category/chaj-kofe-kakao/kofe-v-kapsulah'], [95, 'https://online.metro-cc.ru/category/chaj-kofe-kakao/kofe-rastvorimyj'], [96, 'https://online.metro-cc.ru/category/chaj-kofe-kakao/kofe-molotyj'], [97, 'https://online.metro-cc.ru/category/chaj-kofe-kakao/kakao-kofejnye-napitki'], [98, 'https://online.metro-cc.ru/category/chaj-kofe-kakao/cikorij-kofezameniteli'], [99, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/konfety-podarochnye-nabory'], [100, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/shokolad-batonchiki'], [101, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/torty-pirogi-pirozhnye'], [102, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/pechenya-pryaniki'], [103, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/keksy-rulety-kruassany'], [104, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/vafli-zefir-marmelad'], [105, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/vostochnye-sladosti'], [106, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/hleb-lavash'], [107, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/bulochki-sdoba-vypechka'], [108, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/sushki-baranki-suhari'], [109, 'https://online.metro-cc.ru/category/hleb-vypechka-konditerskie-izdeliya/zamorozhennoe-testo-vypechka'], [110, 'https://online.metro-cc.ru/category/bezalkogolnye-napitki/pityevaya-voda-kulery'], [111, 'https://online.metro-cc.ru/category/bezalkogolnye-napitki/mineralnaya-voda'], [112, 'https://online.metro-cc.ru/category/bezalkogolnye-napitki/napitki-105003'], [113, 'https://online.metro-cc.ru/category/bezalkogolnye-napitki/soki-morsy-nektary'], [114, 'https://online.metro-cc.ru/category/zdorovoe-pitanie/bio-produkty'], [115, 'https://online.metro-cc.ru/category/zdorovoe-pitanie/produkty-bez-glyutena-113001'], [116, 'https://online.metro-cc.ru/category/zdorovoe-pitanie/hlebcy-113002'], [117, 'https://online.metro-cc.ru/category/gotovye-bljuda-polufabrikaty/zavtrak'], [118, 'https://online.metro-cc.ru/category/gotovye-bljuda-polufabrikaty/zakuski'], [119, 'https://online.metro-cc.ru/category/gotovye-bljuda-polufabrikaty/sendvichi'], [120, 'https://online.metro-cc.ru/category/gotovye-bljuda-polufabrikaty/supy'], [121, 'https://online.metro-cc.ru/category/gotovye-bljuda-polufabrikaty/vtorye-blyuda'], [122, 'https://online.metro-cc.ru/category/gotovye-bljuda-polufabrikaty/salaty'], [123, 'https://online.metro-cc.ru/category/gotovye-bljuda-polufabrikaty/pochti-gotovo'], [124, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/mebel/mebel-dlya-ulicy'], [125, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-interera/kartiny-vazy'], [126, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-interera/svetilniki-svechi'], [127, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-interera/prazdnichnye-ukrasheniya'], [128, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-sada-rasteniya/kashpo-gorshki'], [129, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-sada-rasteniya/parniki-podvyazka'], [130, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-sada-rasteniya/semena-i-rasteniya'], [131, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-sada-rasteniya/sistemy-poliva'], [132, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-sada-rasteniya/udobreniya-gumidar-ehliksiry'], [133, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-sada-rasteniya/pochva'], [134, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-sada-rasteniya/osveshchenie-sada'], [135, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/dekor-sada-rasteniya/srezannye-cvety'], [136, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/sadovaya-tekhnika-instrumenty/pily'], [137, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/sadovaya-tekhnika-instrumenty/instrumenty'], [138, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/sadovaya-tekhnika-instrumenty/zashchita-ot-nasekomyh-i-ptic'], [139, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/sadovaya-tekhnika-instrumenty/sadovyy-inventar'], [140, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/sadovaya-tekhnika-instrumenty/elektrootpugivateli-ot-gryzunov-i-nasekomyh'], [141, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/posuda/kuhonnye-prinadlezhnosti'], [142, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/posuda/servirovka-stola'], [143, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/posuda/posuda-dlya-prigotovleniya-pishchi'], [144, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/posuda/hranenie-produktov'], [145, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/posuda/odnorazovaya-posuda-i-posuda-dlya-vecherinok'], [146, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/musornye-baki'], [147, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/sredstva-dlya-uborki'], [148, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/korziny-dlya-belya'], [149, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/tazy-vedra'], [150, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/gladilnye-doski-chekhly'], [151, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/sushilki-dlya-belya'], [152, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/sredstva-po-uhodu-za-odezhdoj-obuvyu'], [153, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/shvabry-i-shchetki'], [154, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/sgony-dlya-chistki-okon'], [155, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/konteynery-i-emkosti'], [156, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/sumki-dlya-pokupok'], [157, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hozyajstvennye-tovary/sushilki-dlya-posudy'], [158, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/komplekty-postelnogo-belya'], [159, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/pledy-pokryvala'], [160, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/odeyala'], [161, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/podushki'], [162, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/polotenca'], [163, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/shtory-zhalyuzi'], [164, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/skaterti'], [165, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/kovry-kovriki'], [166, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/kuhonnyy-tekstil'], [167, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/domashnij-tekstil/aksessuary-dlya-tekstilya'], [168, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/odezhda-bele/odejda-nizhnee-bele'], [169, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/odezhda-bele/noski-kolgotki'], [170, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/odezhda-bele/obuv-aksessuary'], [171, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/odezhda-bele/prof-odezhda-i-obuv'], [172, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/odezhda-bele/bannyy-halat-i-tapochki'], [173, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/trenazhery-sportivnyj-inventar/trenazhery-ganteli-kovriki'], [174, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/trenazhery-sportivnyj-inventar/sanki-ledyanki'], [175, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/trenazhery-sportivnyj-inventar/futbol'], [176, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/trenazhery-sportivnyj-inventar/prochee-snaryazhenie'], [177, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/palatki-spalniki-kovriki'], [178, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/tursredstva-ot-nasekomyh'], [179, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/termosy-sumki-holodilniki'], [180, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/nabory-dlya-piknika'], [181, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/grili-barbekyu'], [182, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/bassejny'], [183, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/zonty'], [184, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/gamaki'], [185, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/skladnaya-mebel'], [186, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/biotualety'], [187, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/pavilony-shatry'], [188, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/kacheli'], [189, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/chemodany-sumki-chekhly'], [190, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/prochie-naduvnye-prinadlezhnosti'], [191, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/turisticheskie-prinadlezhnosti-otdyh/zazhigalki-spichki'], [192, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/akkumulyatory-batarejki'], [193, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hranenie-veshchej/yashchiki-komody-organajzery'], [194, 'https://online.metro-cc.ru/category/tovary-dlya-doma-dachi-sada/hranenie-veshchej/veshalki'], [195, 'https://online.metro-cc.ru/category/bytovaya-himiya/chistyaschie-sredstva/sredstva-dlya-polov'], [196, 'https://online.metro-cc.ru/category/bytovaya-himiya/chistyaschie-sredstva/universalnye-chistyashchie-sredstva'], [197, 'https://online.metro-cc.ru/category/bytovaya-himiya/chistyaschie-sredstva/sredstva-dlya-chistki-mebeli-kovrov'], [198, 'https://online.metro-cc.ru/category/bytovaya-himiya/chistyaschie-sredstva/sredstva-dlya-vannoj-tualeta'], [199, 'https://online.metro-cc.ru/category/bytovaya-himiya/chistyaschie-sredstva/chistyashchie-sredstva-dlya-kuhni'], [200, 'https://online.metro-cc.ru/category/bytovaya-himiya/chistyaschie-sredstva/sredstva-dlya-okon-stekol'], [201, 'https://online.metro-cc.ru/category/bytovaya-himiya/chistyaschie-sredstva/sredstva-dlya-bytovoj-tekhniki'], [202, 'https://online.metro-cc.ru/category/bytovaya-himiya/chistyaschie-sredstva/sredstva-po-uhodu-za-obuvyu'], [203, 'https://online.metro-cc.ru/category/bytovaya-himiya/chistyaschie-sredstva/bloki-dlya-unitaza'], [204, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-dlya-stirki/stiralnye-poroshki'], [205, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-dlya-stirki/zhidkie-sredstva-dlya-stirki'], [206, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-dlya-stirki/kapsuly-tabletki-dlya-stirki'], [207, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-dlya-stirki/pyatnovyvoditeli-otbelivateli'], [208, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-dlya-stirki/opolaskivateli-i-konditsionery'], [209, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-dlya-stirki/uhod-za-tkanyami'], [210, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-dlya-mytya-posudy/dlya-ruchnogo-mytya'], [211, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-dlya-mytya-posudy/dlya-posudomoechnyh-mashin'], [212, 'https://online.metro-cc.ru/category/bytovaya-himiya/osvezhiteli-vozduha/aerozolnye-osvezhiteli-vozduha'], [213, 'https://online.metro-cc.ru/category/bytovaya-himiya/osvezhiteli-vozduha/avtomaticheskie-aromatizatory-smennye-bloki'], [214, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-ot-nasekomyh/aerozoli-sprei'], [215, 'https://online.metro-cc.ru/category/bytovaya-himiya/sredstva-ot-nasekomyh/spirali-plastiny'], [216, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-volosami/shampuni-balzamy-maski'], [217, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-volosami/kraski-114001002'], [218, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-volosami/sredstva-dlya-ukladki'], [219, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-telom-i-licom/kremy-uhod-za-licom'], [220, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-telom-i-licom/sredstva-dlya-zagara'], [221, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-telom-i-licom/uhod-za-telom'], [222, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-telom-i-licom/mylo'], [223, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-telom-i-licom/sredstva-dlya-dusha'], [224, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-telom-i-licom/aksessuary-114002006'], [225, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-telom-i-licom/antiperspiranty-dezodoranty'], [226, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-telom-i-licom/sredstva-dlya-britya-depilyacia'], [227, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-zubami/pasty-opolaskivateli'], [228, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-zubami/shchetki-114003002'], [229, 'https://online.metro-cc.ru/category/kosmetika/uhod-za-zubami/drugoe-114003003'], [230, 'https://online.metro-cc.ru/category/kosmetika/gigienicheskie-prinadlezhnosti/sredstva-zhenskoj-gigieny'], [231, 'https://online.metro-cc.ru/category/kosmetika/gigienicheskie-prinadlezhnosti/bumazhnye-vatnye-izdeliya'], [232, 'https://online.metro-cc.ru/category/kosmetika/gigienicheskie-prinadlezhnosti/medicinskie-tovary'], [233, 'https://online.metro-cc.ru/category/kosmetika/gigienicheskie-prinadlezhnosti/drugoe-114005004'], [234, 'https://online.metro-cc.ru/category/avtotovary/avtomobilnaya-elektronika'], [235, 'https://online.metro-cc.ru/category/avtotovary/motornye-masla-tekhnicheskie-zhidkosti'], [236, 'https://online.metro-cc.ru/category/avtotovary/avtokosmetika-aksessuary'], [237, 'https://online.metro-cc.ru/category/avtotovary/sredstva-bezopasnosti/avarijnye-nabory'], [238, 'https://online.metro-cc.ru/category/elektronika-tekhnika/televizory-audio-i-video/aksessuary-dlya-televizora'], [239, 'https://online.metro-cc.ru/category/elektronika-tekhnika/televizory-audio-i-video/audioobrudovanie'], [240, 'https://online.metro-cc.ru/category/elektronika-tekhnika/kompyuternaya-ofisnaya-tekhnika/kompyutery-noutbuki-i-komplektuyushchie'], [241, 'https://online.metro-cc.ru/category/elektronika-tekhnika/kompyuternaya-ofisnaya-tekhnika/laminatory-broshyurovshchiki-rezaki'], [242, 'https://online.metro-cc.ru/category/elektronika-tekhnika/kompyuternaya-ofisnaya-tekhnika/nositeli-informacii'], [243, 'https://online.metro-cc.ru/category/elektronika-tekhnika/tehnika-dlya-kuhni/prigotovlenie-napitkov'], [244, 'https://online.metro-cc.ru/category/elektronika-tekhnika/tehnika-dlya-kuhni/krupnaya-kuhonnaya-tehnika'], [245, 'https://online.metro-cc.ru/category/elektronika-tekhnika/tehnika-dlya-kuhni/melkaya-tehnika-dlya-kuhni'], [246, 'https://online.metro-cc.ru/category/elektronika-tekhnika/klimaticheskaya-tekhnika/kondicionery-split-sistemy'], [247, 'https://online.metro-cc.ru/category/elektronika-tekhnika/klimaticheskaya-tekhnika/uvlazhniteli-vozduha'], [248, 'https://online.metro-cc.ru/category/elektronika-tekhnika/krupnaya-tehnika-dlya-doma/pylesosy-pribory-dlya-uborki'], [249, 'https://online.metro-cc.ru/category/elektronika-tekhnika/melkaya-tehnika-dlya-doma/svch-pechi'], [250, 'https://online.metro-cc.ru/category/elektronika-tekhnika/melkaya-tehnika-dlya-doma/kofevarki-kofemashiny'], [251, 'https://online.metro-cc.ru/category/elektronika-tekhnika/melkaya-tehnika-dlya-doma/kuhonnye-kombajny-izmelchiteli'], [252, 'https://online.metro-cc.ru/category/elektronika-tekhnika/melkaya-tehnika-dlya-doma/utyugi'], [253, 'https://online.metro-cc.ru/category/elektronika-tekhnika/melkaya-tehnika-dlya-doma/vesy'], [254, 'https://online.metro-cc.ru/category/elektronika-tekhnika/krasota-zdorove/medicinskie-izmeritelnye-pribory'], [255, 'https://online.metro-cc.ru/category/elektronika-tekhnika/krasota-zdorove/ozdorovlenie'], [256, 'https://online.metro-cc.ru/category/tovary-dlja-zhivotnyh/korma-konservy-dlja-koshek'], [257, 'https://online.metro-cc.ru/category/tovary-dlja-zhivotnyh/korma-konservy-dlya-sobak'], [258, 'https://online.metro-cc.ru/category/tovary-dlja-zhivotnyh/korma-dlya-ptits'], [259, 'https://online.metro-cc.ru/category/tovary-dlja-zhivotnyh/korma-dlya-gryzunov'], [260, 'https://online.metro-cc.ru/category/tovary-dlja-zhivotnyh/aksessuary-dlya-pitomcev'], [261, 'https://online.metro-cc.ru/category/tovary-dlja-zhivotnyh/lakomstva-dlya-zhivotnyh'], [262, 'https://online.metro-cc.ru/category/detskie-tovary/detskoe-pitanie/zameniteli-moloka-smesi'], [263, 'https://online.metro-cc.ru/category/detskie-tovary/detskoe-pitanie/kashi-117001002'], [264, 'https://online.metro-cc.ru/category/detskie-tovary/detskoe-pitanie/pyure-117001003'], [265, 'https://online.metro-cc.ru/category/detskie-tovary/detskoe-pitanie/napitki-117001004'], [266, 'https://online.metro-cc.ru/category/detskie-tovary/detskoe-pitanie/suhie-zavtraki-117001005'], [267, 'https://online.metro-cc.ru/category/detskie-tovary/detskoe-pitanie/deserty-117001006'], [268, 'https://online.metro-cc.ru/category/detskie-tovary/podguzniki-trusiki-pelenki'], [269, 'https://online.metro-cc.ru/category/detskie-tovary/tovary-dlya-kormleniya'], [270, 'https://online.metro-cc.ru/category/detskie-tovary/detskaya-kosmetika/sredstva-dlya-kupaniya'], [271, 'https://online.metro-cc.ru/category/detskie-tovary/detskaya-kosmetika/salfetki'], [272, 'https://online.metro-cc.ru/category/detskie-tovary/detskaya-kosmetika/kremy-prisypki'], [273, 'https://online.metro-cc.ru/category/detskie-tovary/detskaya-kosmetika/solncezashchitnye-sredstva'], [274, 'https://online.metro-cc.ru/category/detskie-tovary/igry-igrushki/myagkie-igrushki'], [275, 'https://online.metro-cc.ru/category/detskie-tovary/igry-igrushki/role-play'], [276, 'https://online.metro-cc.ru/category/detskie-tovary/igry-igrushki/nastolnye-igry'], [277, 'https://online.metro-cc.ru/category/detskie-tovary/igry-igrushki/igry-na-prirode'], [278, 'https://online.metro-cc.ru/category/detskie-tovary/igry-igrushki/dlya-kupaniya'], [279, 'https://online.metro-cc.ru/category/professionalnoe-oborudovanie/krupnoe-professionalnoe-oborudovanie'], [280, 'https://online.metro-cc.ru/category/professionalnoe-oborudovanie/teplovoe'], [281, 'https://online.metro-cc.ru/category/professionalnoe-oborudovanie/melkoe-professionalnoe-oborudovanie'], [282, 'https://online.metro-cc.ru/category/professionalnoe-oborudovanie/oborudovanie-dlya-uborki'], [283, 'https://online.metro-cc.ru/category/professionalnoe-oborudovanie/posuda-dlya-obshchepita'], [284, 'https://online.metro-cc.ru/category/professionalnoe-oborudovanie/mebel-dlya-restoranov-i-barov-412663'], [285, 'https://online.metro-cc.ru/category/professionalnoe-oborudovanie/sistemy-bezopasnosti'], [286, 'https://online.metro-cc.ru/category/vse-dlya-remonta/remont-instrumenty/elektroinstrumenty'], [287, 'https://online.metro-cc.ru/category/vse-dlya-remonta/remont-instrumenty/ruchnye'], [288, 'https://online.metro-cc.ru/category/vse-dlya-remonta/remont-instrumenty/osnastka-raskhodnye-materialy'], [289, 'https://online.metro-cc.ru/category/vse-dlya-remonta/remont-instrumenty/apparaty-vysokogo-davleniya'], [290, 'https://online.metro-cc.ru/category/vse-dlya-remonta/remont-instrumenty/sredstva-individualnoj-zashchity'], [291, 'https://online.metro-cc.ru/category/vse-dlya-remonta/santekhnika/Izmeritelnye-pribory'], [292, 'https://online.metro-cc.ru/category/vse-dlya-remonta/santekhnika/aksessuary-dlya-vann-saun'], [293, 'https://online.metro-cc.ru/category/vse-dlya-remonta/stroitelnye-materialy/klej'], [294, 'https://online.metro-cc.ru/category/vse-dlya-remonta/stroitelnye-materialy/peny-germetiki'], [295, 'https://online.metro-cc.ru/category/vse-dlya-remonta/stroitelnye-materialy/lenty'], [296, 'https://online.metro-cc.ru/category/vse-dlya-remonta/stroitelnye-materialy/stellazhi-telezhki'], [297, 'https://online.metro-cc.ru/category/vse-dlya-remonta/stroitelnye-materialy/malyarnye-instrumenty'], [298, 'https://online.metro-cc.ru/category/vse-dlya-remonta/stroitelnye-materialy/osveshchenie'], [299, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-ofisa/mebel-119001001'], [300, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-ofisa/papki-sistemy-arhivacii'], [301, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-ofisa/prinadlezhnosti-119001003'], [302, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-ofisa/doski-bilbordy-flipcharty'], [303, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/ofisnaya-bumaga'], [304, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/blanki-buhgalterskie-knigi'], [305, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/bumaga-dlya-zametok-zakladki'], [306, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/tetradi-bloknoty'], [307, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/roliki-chekovaya-lenta'], [308, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/etiketki-cenniki'], [309, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/konverty-pakety'], [310, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/ezhednevniki-kalendari'], [311, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/fotobumaga'], [312, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/bumazhnaya-produkciya/dlya-prazdnika'], [313, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-shkoly/ryukzaki-penaly-sumki'], [314, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-shkoly/oblozhki-podstavki'], [315, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-shkoly/dnevniki-raspisanije-urokov'], [316, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-shkoly/dlya-obucheniya'], [317, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/pismennye-prinadlezhnosti/ruchki'], [318, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/pismennye-prinadlezhnosti/karandashi-tochilki-lastiki'], [319, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/pismennye-prinadlezhnosti/korrektory'], [320, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/pismennye-prinadlezhnosti/markery-tekstovydeliteli'], [321, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/pismennye-prinadlezhnosti/linejki-cirkuli-gotovalni'], [322, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-tvorchestva/cvetnye-karandashi-flomastery-mel'], [323, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-tvorchestva/kraski-kisti-palitry-stakany'], [324, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-tvorchestva/bumaga-albomy-papki-dlya-risovaniya'], [325, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-tvorchestva/plastilin'], [326, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/tovary-dlya-tvorchestva/cvetnaya-bumaga-karton'], [327, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/knigi-zhurnaly/zhurnaly-gazety'], [328, 'https://online.metro-cc.ru/category/ofis-obuchenie-hobbi/knigi-zhurnaly/biznes-knigi'], [329, 'https://online.metro-cc.ru/category/antibakterialnaya-produkciya/sanitajzery-antiseptiki'], [330, 'https://online.metro-cc.ru/category/antibakterialnaya-produkciya/binty-povyazki'], [331, 'https://online.metro-cc.ru/category/antibakterialnaya-produkciya/antisepticheskie-plastyri']]
ind = 0


def callback_function(html):
    global mc, cc, fn, li, ind
    with open("stran/page.html", "w", encoding='utf-8') as file:
        file.write(html)
    print("Ready")
    # add_links("stran/page.html", li[ind][26:])
    if fn:
        mc = get_count_pages("stran/page.html")
        fn = False
    upd_db("stran/page.html", li[ind][0])
    cc += 1
    if cc <= mc:
        print(f"{cc} / {mc}")
        web.load(QUrl(f"{li[ind][1]}?page={cc}"))
    elif ind < len(li) - 1:
        print("Start new lap")
        ind += 1
        fn = True
        cc = 1
        web.load(QUrl(f"{li[ind][1]}?page={cc}"))
    # if ind < len(li):
    #     ind += 1
    #     web.load(QUrl(f"{li[ind]}"))
    # else:
    #     print(all_links)


def on_load_finished():
    web.page().runJavaScript(
        "document.getElementsByTagName('html')[0].outerHTML", callback_function
    )
    # or document.getElementsByTagName('html')[0].outerHTML


def download():
    global web
    app = QApplication(sys.argv)
    web = QWebEngineView()
    web.load(QUrl(li[0][1]))
    # web.show()
    # web.resize(640, 480)
    web.loadFinished.connect(on_load_finished)

    # app.postEvent()
    app.exec_()
